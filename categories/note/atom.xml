<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="//www.w3.org/2005/Atom">

  <title><![CDATA[Category: note | conan @ notes:~/]]></title>
  <link href="https://conanblog.me/categories/note/atom.xml" rel="self"/>
  <link href="https://conanblog.me/"/>
  <updated>2016-12-31T23:44:17-05:00</updated>
  <id>https://conanblog.me/</id>
  <author>
    <name><![CDATA[Conan]]></name>
    <email><![CDATA[conanchou1412@gmail.com]]></email>
  </author>
  <generator uri="//octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[音樂筆記 070116]]></title>
    <link href="https://conanblog.me/blog/music/note/2016/07/08/music-notes-070116/"/>
    <updated>2016-07-08T22:17:34-04:00</updated>
    <id>https://conanblog.me/blog/music/note/2016/07/08/music-notes-070116</id>
    <content type="html"><![CDATA[<p><img src="https://cloud.githubusercontent.com/assets/480759/16710021/56c13cfc-45ef-11e6-96e7-f886154a8b8f.jpg" alt="" /></p>

<p>有一個事實，分析過去五年裏的上千首電子舞曲後可以發現，絕大多數曲子是A小調、D小調或E小調的（分別占42%，21%，16%）。</p>

<p>有幾個原因可能共同促使這樣的不平均分布：</p>

<!--more-->
<ul>
  <li>首先A小調的平行大調是C大調，這一對平行大小調是沒有升降符的，換句話說就是純白鍵—簡單。</li>
  <li>而最近幾年裏越來越多的 club DJ 同時也是音樂制作人，所以他們將一些音樂理論帶進現場的表演中，開始流行的一個技巧是 harmonic mix，就是要匹配曲子的調性。而為了讓自己的作品有更大可能性被大多數 DJ 播放，很多音樂制作人選擇用可以和主流電子舞曲容易匹配的調子，所以就有更多人用A小調。</li>
  <li>而E小調和D小調，一方面能給我們更多創新空間，又跟主流A小調有所區別，同時和聲又較其它調子更接近A小調，所以也有不少人用這倆。你可以看到篇首的 Camelot Easymix Wheel 中，D Minor 和 E Minor 就在 A Minor 的兩邊。這個輪盤是提煉過的結果，其實放到鋼琴鍵盤上看就更明白了。如下圖：</li>
</ul>

<p><img src="https://cloud.githubusercontent.com/assets/480759/16710068/9e98bf68-45f0-11e6-93af-a0f1fb1e7486.png" alt="A Minor Scale" /></p>

<p><img src="https://cloud.githubusercontent.com/assets/480759/16710086/11084d7a-45f1-11e6-80c9-36602bf0f391.png" alt="D Minor Scale" /></p>

<p><img src="https://cloud.githubusercontent.com/assets/480759/16710087/165f4b5c-45f1-11e6-9b88-635b6ab051db.png" alt="E Minor Scale" /></p>

<p>可見 D Minor 和 E Minor 分別與 A Minor 只有一個黑鍵的區別。</p>

<ul>
  <li>最後一點也是音樂創作中最容易忽視又最重要的一點（領悟到這一點全是因為 David Byrne 寫的那本 How music works）—音樂的創作跟演奏環境分不開。很多古典樂節慢、音也長，和弦較爵士和諧也更簡單，因為演奏環境大多在類似大教堂的地方，回響會更久，所以簡化和弦，拉長音節可以讓演奏和回聲更和諧。而電子舞曲演奏地點通常空間小、嘈雜，幾乎沒有回聲。而作為舞曲音樂必須有更具穿透力的鼓點（強有力的低頻）。目前 club 音響系統中重低音工作區間是50到65赫茲，而A小調根音的A1音正好在55赫茲。（在這個頻率區間的還有降A1、升A1和B1）當然空間小了節奏也可以更快，不必擔心跟回聲和聲的事兒。當然沒了回聲這種藝術表現手法也不行，於是 club DJ 和制作人多出了一堆音頻效果器，比如reverb、echo、pingpong delay等等。</li>
</ul>

<p>綜上所述，就是為什麽這麽多電子舞曲用A小調、D小調和E小調。</p>

<p>至於為什麽是小調而不是大調？我也不知道…不過這幾乎是個常識，絕大多數電子舞曲都是小調的，旋律部分可能會用平行大調。</p>

<p>人們對小調的認識通常有誤區，一般教材會說大調是開心的感覺，小調是悲傷的感覺。但是！這個定義是狹隘的，相較大調，小調應該是給人更嚴肅或更專註的感覺。而事實上有很多小調曲子依然給人陽光、上揚的情緒帶動。隨手舉幾個栗子（順便安利一下本 Up 主的視頻，逃……）：</p>

<p>降B小調：</p>

<p><a href="http://www.bilibili.com/video/av5232799">The Him - Feels Like Home</a></p>

<p>F小調：</p>

<p><a href="http://www.bilibili.com/video/av5205694">Heren - Here &amp; Now</a></p>

<p>C小調：</p>

<p><a href="http://www.bilibili.com/video/av5220294">Tilka - Love</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Reagent 的 Figwheel REPL 方案]]></title>
    <link href="https://conanblog.me/blog/note/clojure/2016/03/06/reagent-figwheel-repl-with-nrepl/"/>
    <updated>2016-03-06T11:42:03-05:00</updated>
    <id>https://conanblog.me/blog/note/clojure/2016/03/06/reagent-figwheel-repl-with-nrepl</id>
    <content type="html"><![CDATA[<p>剛剛開始了壹個新 side project，這次打算用
<a href="https://github.com/reagent-project/reagent">reagent</a>
做這個項目。我是直接用了 reagent 的默認模板：</p>

<p><code>
lein new reagent myproject
</code></p>

<p>開發的時候用 <code>lein figwheel</code> 運行，當瀏覽器指向默認的開發地址 <code>http://localhost:3449</code>
時，Figwheel 的
<a href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop">REPL</a>
就會出現，然後調試起來簡直不能更爽。不過這個 Figwheel REPL 有個問題，就是不支持歷史回溯，
不像 <a href="https://github.com/clojure/tools.nrepl">nREPL</a>，你不能上下鍵調歷史，更不能 <kbd>ctrl</kbd> + <kbd>r</kbd> 搜索歷史。</p>

<!--more-->

<p>這個肯定不能忍啊，經過壹番搗鼓，算摸出個方案。記錄下來以免之後忘了……
其實方案很直白，就是在 nREPL 裏用 Figwheel REPL。
如果是直接用 Figwheel Leiningen 模板的，可以按照
<a href="https://github.com/bhauman/lein-figwheel/wiki/Using-the-Figwheel-REPL-within-NRepl">這份 wiki</a>
配置壹下。如果是用 reagent 的默認模板，其實這些配置是已經配置好了的。
我也是看了 <code>project.clj</code> 的配置才意識到的，壹開始還改了半天配置，走了些彎路，直到看到這壹段：</p>

<p><code>
:figwheel {:http-server-root "public"
           :server-port 3449
           :nrepl-port 7002
           :nrepl-middleware ["cemerick.piggieback/wrap-cljs-repl"
                              ]
           :css-dirs ["resources/public/css"]
           :ring-handler khm-clj.handler/app}
</code></p>

<p>有 nREPL 相關的配置，看來是 reagent 已經配置了 nREPL，其實啟動後仔細看 STDOUT 也能看到：</p>

<p><code>
Figwheel: Starting nREPL server on port: 7002
</code></p>

<p>接下來只需要連上 nREPL 就好了。<a href="https://cursive-ide.com">Cursive</a> 的話可以參考
<a href="https://cursive-ide.com/userguide/repl.html">這份文檔</a> 配置遠程 nREPL，
我在文末的動圖裏也會演示。而純命令行的就更簡單了，直接</p>

<p><code>
lein repl :connect 7002
</code></p>

<p>連接成功就已經成功壹半了，最後還剩兩條命令，壹是加載 <code>figwheel-sidecar.repl-api</code>，
壹是調用 <code>cljs-repl</code>，調用之後 <code>namespace</code> 會被自動從 <code>user</code> 換到 <code>cljs.user</code>：</p>

<p>&#8220;`
conan@crmbp ~/workspace/khm-clj $ lein repl :connect 7002
Connecting to nREPL at 127.0.0.1:7002
REPL-y 0.3.7, nREPL 0.2.12
Clojure 1.8.0
Java HotSpot(TM) 64-Bit Server VM 1.8.0_65-b17
    Docs: (doc function-name-here)
          (find-doc “part-of-name-here”)
  Source: (source function-name-here)
 Javadoc: (javadoc java-object-or-class-here)
    Exit: Control+D or (exit) or (quit)
 Results: Stored in vars *1, *2, *3, an exception in *e</p>

<p>user=&gt; (use ‘figwheel-sidecar.repl-api)
nil
user=&gt; (cljs-repl)
Launching ClojureScript REPL for build: app
Figwheel Controls:
          (stop-autobuild)                ;; stops Figwheel autobuilder
          (start-autobuild [id …])      ;; starts autobuilder focused on optional ids
          (switch-to-build id …)        ;; switches autobuilder to different build
          (reset-autobuild)               ;; stops, cleans, and starts autobuilder
          (reload-config)                 ;; reloads build config and resets autobuild
          (build-once [id …])           ;; builds source one time
          (clean-builds [id ..])          ;; deletes compiled cljs target files
          (print-config [id …])         ;; prints out build configurations
          (fig-status)                    ;; displays current state of system
  Switch REPL build focus:
          :cljs/quit                      ;; allows you to switch REPL to another build
    Docs: (doc function-name-here)
    Exit: Control+C or :cljs/quit
 Results: Stored in vars *1, *2, *3, *e holds last exception object
Prompt will show when Figwheel connects to your application
To quit, type: :cljs/quit
nil
cljs.user=&gt;
&#8220;`</p>

<p>最後我們來測試壹下：</p>

<p><img src="https://cloud.githubusercontent.com/assets/480759/13558112/f083e61a-e3c9-11e5-9556-80eaab79b6a2.gif" alt="" /></p>

<p>今天手賤，又忘了保存帖子，於是只能又重寫了壹遍……</p>
]]></content>
  </entry>
  
</feed>
